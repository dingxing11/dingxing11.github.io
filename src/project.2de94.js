window.__require=function e(t,n,i){function c(a,s){if(!n[a]){if(!t[a]){var r=a.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+a+"'")}}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){return c(t[a][1][e]||e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<i.length;a++)c(i[a]);return c}({Enemy:[function(e,t,n){"use strict";cc._RF.push(t,"ad922DZAu1LqYYgPkxxfk1k","Enemy");var i=e("WuGong");t.exports=[{Name:"\u72fc\u4eba",ack:20,def:3,HP:120,MAXHP:120,MP:120,MAXMP:120,EXP:20,ackNum:[],BeiBao:[i[0],{name:"\u6253\u795e\u77f3",decribe:"\u4e00\u9897\u4f1a\u8bf4\u8bdd\u7684\u77f3\u5934",pingzhi:"\u4e01",wugongtype:"\u88ab\u52a8",Type:"\u7269\u54c1",gongneng:"\u589e\u76ca\u7c7b",power:0,num:1,drop:30},i[1]]},{Name:"\u6d6a\u4eba\u738b",ack:20,def:3,HP:120,MAXHP:120,MP:120,MAXMP:120,EXP:20,ackNum:[],BeiBao:[i[0],{name:"\u6253\u795e\u77f3",decribe:"\u4e00\u9897\u4f1a\u8bf4\u8bdd\u7684\u77f3\u5934",pingzhi:"\u4e01",wugongtype:"\u88ab\u52a8",Type:"\u7269\u54c1",gongneng:"\u589e\u76ca\u7c7b",power:0,num:1,drop:30},i[1]]},{Name:"\u6d6a\u4eba",ack:20,def:3,HP:120,MAXHP:120,MP:120,MAXMP:120,EXP:20,ackNum:[],BeiBao:[i[0],{name:"\u6253\u795e\u77f3",decribe:"\u4e00\u9897\u4f1a\u8bf4\u8bdd\u7684\u77f3\u5934",pingzhi:"\u4e01",wugongtype:"\u88ab\u52a8",Type:"\u7269\u54c1",gongneng:"\u589e\u76ca\u7c7b",power:0,num:1,drop:30},i[1]]}],cc._RF.pop()},{WuGong:"WuGong"}],1:[function(e,t,n){var i=e("util/"),c=Array.prototype.slice,o=Object.prototype.hasOwnProperty,a=t.exports=g;function s(e,t){return i.isUndefined(t)?""+t:i.isNumber(t)&&!isFinite(t)?t.toString():i.isFunction(t)||i.isRegExp(t)?t.toString():t}function r(e,t){return i.isString(e)?e.length<t?e:e.slice(0,t):e}function l(e){return r(JSON.stringify(e.actual,s),128)+" "+e.operator+" "+r(JSON.stringify(e.expected,s),128)}function u(e,t,n,i,c){throw new a.AssertionError({message:n,actual:e,expected:t,operator:i,stackStartFunction:c})}function g(e,t){e||u(e,!0,t,"==",a.ok)}function m(e,t){if(e===t)return!0;if(i.isBuffer(e)&&i.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return i.isDate(e)&&i.isDate(t)?e.getTime()===t.getTime():i.isRegExp(e)&&i.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:i.isObject(e)||i.isObject(t)?d(e,t):e==t}function h(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function d(e,t){if(i.isNullOrUndefined(e)||i.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(i.isPrimitive(e)||i.isPrimitive(t))return e===t;var n=h(e),o=h(t);if(n&&!o||!n&&o)return!1;if(n)return m(e=c.call(e),t=c.call(t));var a,s,r=y(e),l=y(t);if(r.length!=l.length)return!1;for(r.sort(),l.sort(),s=r.length-1;s>=0;s--)if(r[s]!=l[s])return!1;for(s=r.length-1;s>=0;s--)if(!m(e[a=r[s]],t[a]))return!1;return!0}function p(e,t){return!(!e||!t)&&("[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t||!0===t.call({},e))}function f(e,t,n,c){var o;i.isString(n)&&(c=n,n=null);try{t()}catch(e){o=e}if(c=(n&&n.name?" ("+n.name+").":".")+(c?" "+c:"."),e&&!o&&u(o,n,"Missing expected exception"+c),!e&&p(o,n)&&u(o,n,"Got unwanted exception"+c),e&&o&&n&&!p(o,n)||!e&&o)throw o}a.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var t=e.stackStartFunction||u;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var i=n.stack,c=t.name,o=i.indexOf("\n"+c);if(o>=0){var a=i.indexOf("\n",o+1);i=i.substring(a+1)}this.stack=i}}},i.inherits(a.AssertionError,Error),a.fail=u,a.ok=g,a.equal=function(e,t,n){e!=t&&u(e,t,n,"==",a.equal)},a.notEqual=function(e,t,n){e==t&&u(e,t,n,"!=",a.notEqual)},a.deepEqual=function(e,t,n){m(e,t)||u(e,t,n,"deepEqual",a.deepEqual)},a.notDeepEqual=function(e,t,n){m(e,t)&&u(e,t,n,"notDeepEqual",a.notDeepEqual)},a.strictEqual=function(e,t,n){e!==t&&u(e,t,n,"===",a.strictEqual)},a.notStrictEqual=function(e,t,n){e===t&&u(e,t,n,"!==",a.notStrictEqual)},a.throws=function(e,t,n){f.apply(this,[!0].concat(c.call(arguments)))},a.doesNotThrow=function(e,t){f.apply(this,[!1].concat(c.call(arguments)))},a.ifError=function(e){if(e)throw e};var y=Object.keys||function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t}},{"util/":4}],2:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],3:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],4:[function(e,t,n){(function(t,i){var c=/%[sdj%]/g;n.format=function(e){if(!_(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,o=i.length,a=String(e).replace(c,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}}),r=i[n];n<o;r=i[++n])b(r)||!P(r)?a+=" "+r:a+=" "+s(r);return a},n.deprecate=function(e,c){if(w(i.process))return function(){return n.deprecate(e,c).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(c);t.traceDeprecation?console.trace(c):console.error(c),o=!0}return e.apply(this,arguments)}};var o,a={};function s(e,t){var i={seen:[],stylize:l};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),v(t)?i.showHidden=t:t&&n._extend(i,t),w(i.showHidden)&&(i.showHidden=!1),w(i.depth)&&(i.depth=2),w(i.colors)&&(i.colors=!1),w(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=r),g(i,e,i.depth)}function r(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function l(e,t){return e}function u(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function g(e,t,i){if(e.customInspect&&t&&k(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var c=t.inspect(i,e);return _(c)||(c=g(e,c,i)),c}var o=m(e,t);if(o)return o;var a=Object.keys(t),s=u(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),B(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(t);if(0===a.length){if(k(t)){var r=t.name?": "+t.name:"";return e.stylize("[Function"+r+"]","special")}if(N(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(E(t))return e.stylize(Date.prototype.toString.call(t),"date");if(B(t))return h(t)}var l,v="",b=!1,C=["{","}"];(y(t)&&(b=!0,C=["[","]"]),k(t))&&(v=" [Function"+(t.name?": "+t.name:"")+"]");return N(t)&&(v=" "+RegExp.prototype.toString.call(t)),E(t)&&(v=" "+Date.prototype.toUTCString.call(t)),B(t)&&(v=" "+h(t)),0!==a.length||b&&0!=t.length?i<0?N(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=b?d(e,t,i,s,a):a.map(function(n){return p(e,t,i,s,n,b)}),e.seen.pop(),f(l,v,C)):C[0]+v+C[1]}function m(e,t){if(w(t))return e.stylize("undefined","undefined");if(_(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return C(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,i,c){for(var o=[],a=0,s=t.length;a<s;++a)A(t,String(a))?o.push(p(e,t,n,i,String(a),!0)):o.push("");return c.forEach(function(c){c.match(/^\d+$/)||o.push(p(e,t,n,i,c,!0))}),o}function p(e,t,n,i,c,o){var a,s,r;if((r=Object.getOwnPropertyDescriptor(t,c)||{value:t[c]}).get?s=r.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):r.set&&(s=e.stylize("[Setter]","special")),A(i,c)||(a="["+c+"]"),s||(e.seen.indexOf(r.value)<0?(s=b(n)?g(e,r.value,null):g(e,r.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),w(a)){if(o&&c.match(/^\d+$/))return s;(a=JSON.stringify(""+c)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e,t,n){return e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function y(e){return Array.isArray(e)}function v(e){return"boolean"==typeof e}function b(e){return null===e}function C(e){return"number"==typeof e}function _(e){return"string"==typeof e}function w(e){return void 0===e}function N(e){return P(e)&&"[object RegExp]"===L(e)}function P(e){return"object"==typeof e&&null!==e}function E(e){return P(e)&&"[object Date]"===L(e)}function B(e){return P(e)&&("[object Error]"===L(e)||e instanceof Error)}function k(e){return"function"==typeof e}function L(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}n.debuglog=function(e){if(w(o)&&(o=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var i=t.pid;a[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,i,t)}}else a[e]=function(){};return a[e]},n.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=y,n.isBoolean=v,n.isNull=b,n.isNullOrUndefined=function(e){return null==e},n.isNumber=C,n.isString=_,n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=w,n.isRegExp=N,n.isObject=P,n.isDate=E,n.isError=B,n.isFunction=k,n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e("./support/isBuffer");var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),x[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.log=function(){console.log("%s - %s",F(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!P(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":3,_process:6,inherits:2}],5:[function(e,t,n){(function(e){function t(e,t){for(var n=0,i=e.length-1;i>=0;i--){var c=e[i];"."===c?e.splice(i,1):".."===c?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e){"string"!=typeof e&&(e+="");var t,n=0,i=-1,c=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!c){n=t+1;break}}else-1===i&&(c=!1,i=t+1);return-1===i?"":e.slice(n,i)}function c(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,i="/"===a.charAt(0))}return n=t(c(n.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(e){var i=n.isAbsolute(e),a="/"===o(e,-1);return(e=t(c(e.split("/"),function(e){return!!e}),!i).join("/"))||i||(e="."),e&&a&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(c(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var c=i(e.split("/")),o=i(t.split("/")),a=Math.min(c.length,o.length),s=a,r=0;r<a;r++)if(c[r]!==o[r]){s=r;break}var l=[];for(r=s;r<c.length;r++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,c=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!c){i=o;break}}else c=!1;return-1===i?n?"/":".":n&&1===i?"/":e.slice(0,i)},n.basename=function(e,t){var n=i(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,i=-1,c=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===i&&(c=!1,i=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!c){n=a+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:6}],6:[function(e,t,n){var i,c,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function r(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function l(e){if(c===clearTimeout)return clearTimeout(e);if((c===s||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{c="function"==typeof clearTimeout?clearTimeout:s}catch(e){c=s}})();var u,g=[],m=!1,h=-1;function d(){m&&u&&(m=!1,u.length?g=u.concat(g):h=-1,g.length&&p())}function p(){if(!m){var e=r(d);m=!0;for(var t=g.length;t;){for(u=g,g=[];++h<t;)u&&u[h].run();h=-1,t=g.length}u=null,m=!1,l(e)}}function f(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new f(e,t)),1!==g.length||m||r(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],Global:[function(e,t,n){"use strict";cc._RF.push(t,"25df6Y5rfpBCqjfOKpf4PS+","Global");var i=e("WuGong");window.Global={wugong_list:{title:"",zhuangbei:{part:""}},player:{saved:!1},boss:{dead:!1},baoxiang:{opened:!1},sceneName:"",shangcheng_first:!1,goScene:function(e){!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?(this.sceneName=e,cc.director.loadScene("load")):cc.director.loadScene(e)}},window.getWG=function(e){return i.forEach(function(t){if(t.name==e)return t}),null},cc._RF.pop()},{WuGong:"WuGong"}],Person:[function(e,t,n){"use strict";cc._RF.push(t,"c0ff1mG2qFPQpLgNalQ5FqM","Person"),cc.Class({extends:cc.Component,properties:{Name:"\u4e01\u65b0",ack:10,def:3,HP:100,MAXHP:100,MP:100,MAXMP:100,JN:[],EXP:10,MAXEXP:100,LEVEL:1},start:function(){}}),cc._RF.pop()},{}],Player:[function(e,t,n){"use strict";cc._RF.push(t,"7ce0c/Eh7lB/oNGr2F0xtrf","Player"),t.exports={ID:1,Name:"\u4e01\u65b0",money:2e4,ack:20,def:3,HP:100,MAXHP:100,MP:100,MAXMP:100,JN:[],WUGONG:[],WUQI:null,HUSHOU:null,YAODAI:null,XIEZI:null,EXP:10,MAXEXP:100,LEVEL:1,BeiBao:[],isMap:!1,xPosition:0,yPosition:0,duiwu:[null,null,null,null],huoban:[{ID:2,Name:"\u674e\u900d\u9065",ack:20,def:3,HP:100,MAXHP:100,MP:100,MAXMP:100,JN:[],WUGONG:[],WUQI:null,HUSHOU:null,YAODAI:null,XIEZI:null,EXP:10,MAXEXP:100,LEVEL:1},{ID:3,Name:"\u674e\u767d",ack:20,def:3,HP:100,MAXHP:100,MP:100,MAXMP:100,JN:[],WUGONG:[],WUQI:null,HUSHOU:null,YAODAI:null,XIEZI:null,EXP:10,MAXEXP:100,LEVEL:1},{ID:4,Name:"\u72ec\u5b64\u6c42\u8d25",ack:20,def:3,HP:100,MAXHP:100,MP:100,MAXMP:100,JN:[],WUGONG:[],WUQI:null,HUSHOU:null,YAODAI:null,XIEZI:null,EXP:10,MAXEXP:100,LEVEL:1}]},cc._RF.pop()},{}],ShangCheng:[function(e,t,n){"use strict";cc._RF.push(t,"5b9c0TUKSpOVLYQQ2eFeyBX","ShangCheng"),t.exports={wugong:[],zhuangbei:[],startTime:0,endTime:0,time:72e5},cc._RF.pop()},{}],WuGong:[function(e,t,n){"use strict";cc._RF.push(t,"73fa9638IJNrr+UEZiTzzAn","WuGong"),t.exports=[{name:"\u5de6\u53f3\u4e92\u640f",describe:"30%\u7684\u6982\u7387\u653b\u51fb\u653b\u51fb\u4e24\u6b21",wugongtype:"\u88ab\u52a8",Type:"\u6b66\u529f",pingzhi:"\u7532",gongneng:"\u89e6\u53d1\u7c7b",power:0,jl:30,ackNum:2,NOW_CD:0,CD:0,drop:100,num:1,icon:"wugong/JA001_1",show:"wugong/JA001_2",money:1e3,action:function(e,t,n,i){var c=this,o=Math.floor(100*Math.random());if(o>=this.jl||o<0)return cc.log("\u6ca1\u6709\u8fdb\u5165\u5de6\u53f3\u4e92\u640f!"+o),!1;cc.log("\u8fdb\u5165\u5de6\u53f3\u4e92\u640f"+o);var a=cc.find("Canvas/player1"),s=1;e.player1=a;var r=cc.find("Canvas/enemy1"),l=cc.find("Canvas/dhk/scroll"),u=cc.find("Canvas/dhk/scroll/view/content/item"),g=cc.moveTo(.5,r.getPosition().x-100,r.getPosition().y),m=cc.moveTo(.5,a.getPosition()),h=l.getComponent(cc.ScrollView),d=u.getComponent(cc.Label),p=a.getComponent(cc.Animation);e.liu.getComponent(cc.Animation).active=!0;var f;f=Math.round((Math.random()+1)*(i.ack-n.def)),!(n.HP-f<=0)&&s<2&&(s=2);var y=cc.sequence(cc.callFunc(function(){cc.log("repeat num1:"+s),cc.log("\u5f00\u59cb\u653b\u51fb\u654c\u4eba")}),g,cc.callFunc(function(){p.getAnimationState("player_ack");e.liu.active=!1,p.play("player_ack")}),cc.callFunc(function(){n.HP=n.HP-f>0?n.HP-f:0,d.string+=i.Name+"\u4f7f\u7528"+c.name+"\u5bf9"+n.Name+"\u9020\u6210\u4e86"+f+"\u70b9\u4f24\u5bb3\n",cc.log("repeat num2:"+s),n.HP<=0&&e.enemy1Dead(),h.scrollToBottom(.1)}),cc.spawn(cc.callFunc(function(){e.enemyAttacked(),e.drop(f)}),cc.delayTime(1)),m);return e.repeat=a.runAction(cc.sequence(cc.repeat(y,s),cc.callFunc(function(){t()}))),!0}},{name:"\u516d\u8109\u795e\u5251",Type:"\u6b66\u529f",pingzhi:"\u4e59",describe:"\u51fa\u81ea\u5927\u7406\u6bb5\u6c0f,\u5f3a\u529b\u7684\u653b\u51fb\u62db\u5f0f",wugongtype:"\u4e3b\u52a8",gongneng:"\u653b\u51fb\u7c7b",power:3,MAXCD:3,NOW_CD:0,CD:2,drop:30,num:1,money:2e3,icon:"wugong/ID070_1",show:"wugong/ID070_2",action:function(e,t,n,i){var c=this,o=cc.find("Canvas/player1");e.player1=o;var a=cc.find("Canvas/enemy1"),s=cc.find("Canvas/dhk/scroll"),r=cc.find("Canvas/dhk/scroll/view/content/item"),l=cc.moveTo(.5,a.getPosition().x-100,a.getPosition().y),u=cc.moveTo(.5,e.liu.getPosition()),g=s.getComponent(cc.ScrollView),m=r.getComponent(cc.Label),h=o.getComponent(cc.Animation);e.liu.getComponent(cc.Animation);e.liu.active=!0,e.liu.opacity=255;var d=0,p=cc.sequence(cc.callFunc(function(){cc.log("\u5f00\u59cb\u653b\u51fb\u654c\u4eba")}),cc.callFunc(function(){h.play("player_ack")}),l,cc.callFunc(function(){e.liu.opacity=0}),cc.callFunc(function(){d=Math.round((Math.random()+1)*(i.ack*c.power-n.def)),n.HP=n.HP-d>0?n.HP-d:0,m.string+=i.Name+"\u4f7f\u7528"+c.name+"\u5bf9"+n.Name+"\u9020\u6210\u4e86"+d+"\u70b9\u4f24\u5bb3\n",n.HP<=0&&e.enemy1Dead(),g.scrollToBottom(.1)}),cc.spawn(cc.callFunc(function(){e.enemyAttacked(),e.drop(d)}),cc.delayTime(0)),u,cc.callFunc(function(){e.liu.active=!1}));return e.repeat=e.liu.runAction(cc.sequence(cc.repeat(p,1),cc.callFunc(function(){t()}))),!0}}],cc._RF.pop()},{}],ZhuangBei:[function(e,t,n){"use strict";cc._RF.push(t,"feebcpOCkdH/6uL0Ksw0V/0","ZhuangBei"),t.exports=[{name:"\u9f99\u6cc9\u5251",money:200,ack:20,def:0,HP:0,pingzhi:"\u4e19",describe:"\u9f99\u6cc9\u5251\uff0c\u53c8\u540d\u9f99\u6e0a\u5251\uff0c\u59cb\u4e8e\u6625\u79cb\u6218\u56fd\u65f6\u671f\uff0c\u8ddd\u4eca\u6709\u4e8c\u5343\u516d\u767e\u591a\u5e74\uff0c\u662f\u4e2d\u56fd\u53e4\u4ee3\u540d\u5251\uff0c\u8bda\u4fe1\u9ad8\u6d01\u4e4b\u5251\u3002\u4f20\u8bf4\u662f\u7531\u6b27\u51b6\u5b50\u548c\u5e72\u5c06\u4e24\u5927\u5251\u5e08\u8054\u624b\u6240\u94f8\u3002",icon:"zhuangbei/WD005_1",show:"zhuangbei/WD005_2",Type:"\u88c5\u5907",Part:"\u6b66\u5668"},{name:"\u6e0a\u8679",money:5e3,ack:1200,def:0,HP:0,pingzhi:"\u7532",describe:"\u98ce\u80e1\u5b50\u5251\u8c31\u201c\u5341\u5927\u540d\u5251\u201d\u6392\u540d\u7b2c\u4e8c\u3002",icon:"zhuangbei/WD008_1",show:"zhuangbei/WD008_2",Type:"\u88c5\u5907",Part:"\u6b66\u5668"},{name:"\u968f\u4fbf",money:100,HP:0,ack:110,def:0,pingzhi:"\u4e01",describe:"\u968f\u4fbf\u7684\u4eba\u8d77\u7684\u4e00\u4e2a\u968f\u4fbf\u7684\u540d\u5b57",icon:"zhuangbei/WD008_1",show:"zhuangbei/WD008_2",Type:"\u88c5\u5907",Part:"\u6b66\u5668"},{name:"\u795e\u884c\u978b",money:5e3,HP:0,ack:0,def:10,pingzhi:"\u7532",describe:"\u65e5\u884c\u5343\u91cc",icon:"zhuangbei/WD008_1",show:"zhuangbei/WD008_2",Type:"\u88c5\u5907",Part:"\u978b\u5b50"},{name:"\u78a7\u7389\u8170\u5e26",money:5e3,ack:0,HP:100,def:5,pingzhi:"\u7532",describe:"\u7531\u7fe1\u7fe0\u5236\u4f5c\u7684\u8170\u5e26",icon:"zhuangbei/WD008_1",show:"zhuangbei/WD008_2",Type:"\u88c5\u5907",Part:"\u8170\u5e26"}],cc._RF.pop()},{}],appstart:[function(e,t,n){"use strict";cc._RF.push(t,"0685blFfPhP74HHQWCT0gJA","appstart");var i=e("Player");cc.Class({extends:cc.Component,properties:{UserName:{default:null,type:cc.EditBox},LabelName:{default:null,type:cc.Label},LoginName:{default:null,type:cc.Label},restart:{default:null,type:cc.Node}},onLoad:function(){cc.log("Time:"),this._splash=this.node.getChildByName("splash")},newGame:function(){cc.sys.localStorage.removeItem("player"),cc.game.end()},loginUser:function(){if(cc.sys.localStorage.getItem("player")){cc.log("\u8fdb\u6765\u4e86"),cc.log(JSON.stringify(cc.sys.localStorage)),this.restart.active=!0,this.UserName.node.active=!1,this.LabelName.node.active=!1,this.LoginName.string="\u7ee7\u7eed\u6e38\u620f";var e=JSON.parse(cc.sys.localStorage.getItem("player"));for(var t in e)i[t]=e[t]}else this.restart.active=!1;cc.log("\u83b7\u53d6\u5230\u7684\u7528\u6237\u4fe1\u606f:%s",JSON.stringify(i))},start:function(){var e=this;this._splash=this.node.getChildByName("splash");this._splash.active=!0;var t=Date.now();this.loginUser(),setTimeout(function n(){Date.now()-t>=3e3?e._splash.runAction(cc.fadeOut(.5),cc.callFunc(function(){e._splash.active=!1})):setTimeout(n,33)},33)}}),cc._RF.pop()},{Player:"Player"}],battle:[function(e,t,n){"use strict";cc._RF.push(t,"1b276jauydOsoRxxOtfq860","battle");e("path"),e("assert");var i=e("Player");e("Enemy");cc.Class({extends:cc.Component,properties:{_player:null,_enmey:null,_battleFinish:!1,_huiheFinish:!1,_num:0,_playerIndex:0,_enemyIndex:0,playerTeam:[cc.Node],enemyTeam:[cc.Node],player:cc.Prefab,enemy:cc.Prefab},start:function(){var e=this;this.readyTurn().then(function(){e.startTurn()})},teamInit:function(){for(var t=0;t<i.duiwu.length;t++)if(i.duiwu[t]){var n=this.playerTeam[t].position,c=this.playerTeam[t].parent;this.playerTeam[t]=cc.instantiate(this.player),this.playerTeam[t].name="player"+t,this.playerTeam[t].parent=c,this.playerTeam[t].setPosition(n),this.playerTeam[t].getComponent("player1")._player=i.duiwu[t]}else this.playerTeam[t]=null;cc.log(this.playerTeam);for(var o=0;o<this.enemyTeam.length;o++){n=this.enemyTeam[o].position,c=this.enemyTeam[o].parent,this.enemyTeam[o]=cc.instantiate(this.enemy),this.enemyTeam[o].setPosition(n),this.enemyTeam[o].parent=c;var a=e("Enemy");this.enemyTeam[o].getComponent("enemy1")._enmey=a[o]}cc.log(this.enemyTeam)},startTurn:function(){var e=this;this.playerTurn().then(function(){return e.enemyTurn()}).then(function(){e._huiheFinish=!0})},playersDead:function(){for(var e=!0,t=0;t<this.playerTeam.length;t++)if(this.playerTeam[t]){e=!1;break}return e},enemysDead:function(){for(var e=!0,t=0;t<this.enemyTeam.length;t++)if(this.enemyTeam[t]){e=!1;break}return e},readyTurn:function(){var e=this;return new Promise(function(t,n){e.teamInit(),cc.log("\u51c6\u5907\u5f00\u59cb"),t()})},playerTurn:function(){var e=this;return new Promise(function(t,n){(cc.log("\u81ea\u5df1\u56de\u5408"),e.playerTeam[e._playerIndex])?e.playerTeam[e._playerIndex].getComponent("player1").ack(e.enemyTeam[e.firstEnemy()]).then(function(){if(e.enemyTeam[e.firstEnemy()].getComponent("enemy1")._enmey.HP<=0&&(e.enemyTeam[e.firstEnemy()]=null),e._playerIndex+=1,e.enemysDead())return cc.log("\u80dc\u5229"),e._battleFinish=!0,null;e._playerIndex>=e.playerTeam.length&&e._enemyIndex>=e.enemyTeam.length&&(e._playerIndex=0,e._enemyIndex=0),t()}):(e._playerIndex+=1,e._playerIndex>=e.playerTeam.length&&e._enemyIndex>=e.enemyTeam.length&&(e._playerIndex=0,e._enemyIndex=0),t())})},endTurn:function(){cc.log("\u6218\u6597\u7ed3\u675f"),this.vectory()},firstPlayer:function(){for(var e=null,t=0;t<this.playerTeam.length;t++)if(this.playerTeam[t]){e=t;break}return e},firstEnemy:function(){for(var e=null,t=0;t<this.enemyTeam.length;t++)if(this.enemyTeam[t]){e=t;break}return e},enemyTurn:function(){var e=this;return new Promise(function(t,n){(cc.log("\u5bf9\u65b9\u56de\u5408"),e.enemyTeam[e._enemyIndex])?e.enemyTeam[e._enemyIndex].getComponent("enemy1").ack(e.playerTeam[e.firstPlayer()]).then(function(){return e.playerTeam[e.firstPlayer()].getComponent("player1")._player.HP<=0&&(e.playerTeam[e.firstPlayer()]=null),e.playersDead()?(cc.log("\u5931\u8d25"),e._battleFinish=!0,null):(e._enemyIndex+=1,e._playerIndex>=e.playerTeam.length&&e._enemyIndex>=e.enemyTeam.length?(e._playerIndex=0,e._enemyIndex=0,e._huiheFinish=!0,null):void t())}):(e._enemyIndex+=1,e._playerIndex>=e.playerTeam.length&&e._enemyIndex>=e.enemyTeam.length&&(e._playerIndex=0,e._enemyIndex=0),t())})},vectory:function(){cc.log("\u80dc\u5229\u4e86\u6389\u843d\u7269\u54c1");var e=cc.find("Canvas/end");e.getComponent("end");e.zIndex=1,e.active=!0},update:function(e){this._battleFinish&&(this.endTurn(),this._battleFinish=!1),this._huiheFinish&&(this.startTurn(),this._huiheFinish=!1)}}),cc._RF.pop()},{Enemy:"Enemy",Player:"Player",assert:1,path:5}],beibao:[function(e,t,n){"use strict";cc._RF.push(t,"b8248xoXMBPxrJvYqvI7e1v","beibao");var i=e("Player");cc.Class({extends:cc.Component,properties:{title:"",item:"",Ntitle:{default:null,type:cc.Prefab},Nname:{default:null,type:cc.Prefab},Ntab:{default:null,type:cc.Node},Ncontent:{default:null,type:cc.Node},Nshuoming:{default:null,type:cc.Node}},onLoad:function(){var e=this;this.Ntab=cc.find("Canvas/main/node/beibao/tab"),this.Ncontent=cc.find("Canvas/main/node/beibao/name/view/content"),this.Nshuoming=cc.find("Canvas/main/node/beibao/shuoming"),this.node.on("select-tab",function(t){e.title=t.getUserData(),e.clearItems(),e.selectTitle(e.title)},this),this.node.on("select-item",function(t){e.item=t.getUserData(),e.selectItem(e.item)},this)},start:function(){},onEnable:function(){var e=this;this.clearTitles(),this.clearItems();var t=new Set;t.add("\u5168\u90e8"),i.BeiBao.forEach(function(e){t.add(e.Type)});var n=new Array;t.forEach(function(t){var i=cc.instantiate(e.Ntitle);i.getChildByName("tabitem").getComponent(cc.Label).string=t,n.push(t),e.Ntab.addChild(i)}),this.title=n[0],this.selectTitle(this.title)},clearTitles:function(){this.Ntab.children.forEach(function(e){e.destroy()})},clearItems:function(){this.Ncontent.children.forEach(function(e){e.destroy()})},selectTitle:function(e){var t=this,n=new Array;i.BeiBao.forEach(function(i){if(i.Type===e||"\u5168\u90e8"===e){var c=cc.instantiate(t.Nname),o=c.getComponent(cc.Label);o.string=i.name,n.push(o.string),t.Ncontent.addChild(c)}}),this.item=n[0],this.selectItem(this.item)},selectItem:function(e){var t=this;i.BeiBao.forEach(function(n){if(n.name===e){var i=t.Nshuoming.getChildByName("title"),c=t.Nshuoming.getChildByName("num"),o=t.Nshuoming.getChildByName("body").getChildByName("details"),a=i.getComponent(cc.Label),s=o.getComponent(cc.Label),r=c.getComponent(cc.Label);a.string="\u540d\u79f0:"+n.name,s.string="\u54c1\u8d28:"+n.pingzhi+"\n",s.string+="=======================\n",s.string+=n.describe,r.string="\u6570\u91cf:"+n.num}})},useItme:function(){var e=this;i.BeiBao.forEach(function(t,n){if(t.name===e.item){cc.log(t.num);var c=!0;if(i.WUGONG.forEach(function(e){t.name===e.name&&(cc.log("\u5df2\u7ecf\u5b66\u4f1a\u8be5\u6b66\u529f"),c=!1),cc.log(e.name)}),c){i.WUGONG.push(t);var o=e.Nshuoming.getChildByName("title"),a=e.Nshuoming.getChildByName("num"),s=e.Nshuoming.getChildByName("body").getChildByName("details"),r=o.getComponent(cc.Label),l=s.getComponent(cc.Label),u=a.getComponent(cc.Label);if(t.num>1)t.num=parseInt(t.num)-1,u.string="\u6570\u91cf:"+t.num;else cc.log("\u6570\u91cf\u662f1\u9500\u6bc1"),i.BeiBao.splice(n,1),r.string="\u540d\u79f0:",l.string="",u.string="\u6570\u91cf:",e.Ncontent.children.forEach(function(e){var n=e.getComponent(cc.Label);cc.log(n.string+"11"),cc.log(t.name+"12"),n.string==t.name&&(cc.log("destroy"),e.destroy())})}}})}}),cc._RF.pop()},{Player:"Player"}],btn_ack:[function(e,t,n){"use strict";cc._RF.push(t,"e95d6Sqr4hJPaCwdlXwOR7r","btn_ack");var i=e("Player"),c=e("Enemy"),o=e("WuGong");cc.Class({extends:cc.Component,properties:{repeat:"",player1:"",dropHP:{default:null,type:cc.Prefab,displayName:"\u6389\u8840\u91cf"},sum:0,liu:"",chufa:[]},onLoad:function(){this.sum=1;var e=new cc.Component.EventHandler;e.target=this.node,e.component="btn_ack",e.handler="btnClick1",e.customEventData="click1 user data",this.node.getComponent(cc.Button).clickEvents.push(e),this.liu=cc.find("Canvas/liu");this.liu.getComponent(cc.Animation);this.liu.active=!1,cc.find("Canvas/player1/playerbg").z=-1},btnClick1:function(e,t){var n=this,o=cc.find("Canvas/huihe"),a=cc.find("Canvas/dhk/scroll/view/content/item").getComponent(cc.Label);o.getComponent(cc.Label).string=""+this.sum,this.node.getComponent(cc.Button).interactable=!1,this.ackEnemy().then(function(){return n.Attacked()}).then(function(){if(i.HP<=0||c.HP<=0){if(c.HP<=0){var e=[];for(i.EXP+=c.EXP,c.BeiBao.forEach(function(t){if(console.log(t),Math.floor(100*Math.random())<=t.drop){var n=!1,c={};i.BeiBao.forEach(function(e){e.name===t.name&&(n=!0,e.num+=1)}),n||i.BeiBao.push(t),cc.log("\u83b7\u5f97\u4e861\u4e2a"+t.name),a.string+="\u83b7\u5f97\u4e861\u4e2a"+t.name+"\n",c.name=t.name,c.num=1,e.push(c)}});i.EXP>=i.MAXEXP;)i.EXP=i.EXP-i.MAXEXP,i.MAXHP+=Math.round(20*Math.random()+1),i.MAXMP+=Math.round(20*Math.random()+1),i.ack+=Math.round(10*Math.random()+1),i.def+=Math.round(5*Math.random()+1),i.LEVEL+=1,i.MAXEXP+=100;n.vectory(e)}else n.vectory(drops);return c.HP=c.MAXHP,i.HP=i.MAXHP,i.MP=i.MAXMP,cc.sys.localStorage.setItem("player",JSON.stringify(i)),i.JN.forEach(function(e){e.NOW_CD=0}),cc.log("\u56de\u5408\u7ed3\u675f!"),Promise.reject()}return n.ackPlayer()}).then(function(){if(n.node.getComponent(cc.Button).interactable=!0,i.HP<=0||c.HP<=0){if(c.HP<=0){for(n.player1.stopAction(n.repeat),i.EXP+=c.EXP;i.EXP>=i.MAXEXP;)i.EXP=i.EXP-i.MAXEXP,i.MAXHP+=Math.round(20*Math.random()+1),i.MAXMP+=Math.round(20*Math.random()+1),i.ack+=Math.round(10*Math.random()+1),i.def+=Math.round(5*Math.random()+1),i.LEVEL+=1,i.MAXEXP+=100;n.vectory()}else n.vectory();c.HP=c.MAXHP,i.HP=i.MAXHP,i.MP=i.MAXMP,cc.log("\u5931\u8d25\uff0c\u56de\u5408\u7ed3\u675f!")}else n.sum=parseInt(n.sum)+1,n.btnClick1()})},ackEnemy:function(){var e=this;return new Promise(function(t,n){var a=!1;i.JN.length>0&&i.JN.forEach(function(n){cc.log("\u8fdb\u6765\u6b66\u529f\u4e86"+n.NOW_CD),0==n.NOW_CD?a||(o.forEach(function(e){e.name==n.name&&(n.action=e.action)}),(a=n.action(e,t,c,i))&&(n.NOW_CD=n.CD)):n.NOW_CD-=1}),a||e.pugong(t)})},enemyAttacked:function(){var e=this;return new Promise(function(t,n){cc.find("Canvas/enemy1").runAction(cc.sequence(e.Attacked(),cc.callFunc(t)))})},playerAttacked:function(){return new Promise(function(e,t){cc.find("Canvas/player1").runAction(cc.sequence(cc.moveBy(.25,-15,0),cc.moveBy(.25,15,0),cc.moveBy(.25,15,0),cc.moveBy(.25,-15,0),cc.callFunc(e)))})},vectory:function(e){cc.log("\u80dc\u5229\u4e86\u6389\u843d\u7269\u54c1:%s",e);var t=cc.find("Canvas/end");t.getComponent("end").drops=e,t.active=!0},Attacked:function(){return cc.sequence(cc.moveBy(.25,20,0),cc.moveBy(.25,-20,0),cc.moveBy(.25,-20,0),cc.moveBy(.25,20,0))},drop:function(e){var t=cc.find("Canvas/enemy1"),n=cc.instantiate(this.dropHP);n.getComponent(cc.Label).string="-"+e,n.parent=t,n.setPosition(0,50);var i=cc.spawn(cc.moveBy(1,0,30),cc.fadeOut(1));n.runAction(i)},playerDrop:function(e){var t=cc.find("Canvas/player1"),n=cc.instantiate(this.dropHP);n.getComponent(cc.Label).string="-"+e,n.parent=t,n.setPosition(0,50);var i=cc.spawn(cc.moveBy(1,0,30),cc.fadeOut(1));n.runAction(i)},ackPlayer:function(){var e=this;return new Promise(function(t,n){var o=cc.find("Canvas/player1"),a=cc.find("Canvas/enemy1"),s=cc.find("Canvas/dhk/scroll"),r=cc.find("Canvas/dhk/scroll/view/content/item"),l=cc.moveTo(.5,o.getPosition().x+100,a.getPosition().y),u=cc.moveTo(.5,a.getPosition()),g=s.getComponent(cc.ScrollView),m=r.getComponent(cc.Label);cc.log("\u654c\u4ebaX\u5750\u6807"+a.getPosition().x),a.runAction(cc.sequence(cc.callFunc(function(){cc.log("\u5f00\u59cb\u88ab\u653b\u51fb")}),l,cc.callFunc(function(){i.HP=i.HP-(c.ack-i.def)>0?i.HP-(c.ack-i.def):0,m.string+=i.Name+"\u53d7\u5230\u4e86"+(c.ack-i.def)+"\u70b9\u4f24\u5bb3\n",g.scrollToBottom(.1)}),cc.spawn(cc.callFunc(function(){e.playerAttacked(),e.playerDrop(c.ack-i.def)}),cc.delayTime(1)),u,cc.callFunc(t)))})},start:function(){var e=this;i.WUGONG.forEach(function(t){if(t.NOW_CD=0,cc.log(t.wugongtype),cc.log(t.gongneng),"\u88ab\u52a8"===t.wugongtype){if("\u589e\u76ca\u7c7b"===t.gongneng)for(var n in t)i[n]=parseInt(i[n])+parseInt(t[n]);if("\u89e6\u53d1\u7c7b"===t.gongneng){var c={ackNum:t.ackNum,jl:t.jl};e.chufa.push(c),cc.log("\u5b58\u4e86\u5de6\u53f3"),cc.log(e.chufa)}}}),this.btnClick1()},enemy1Dead:function(){cc.find("Canvas/enemy1").runAction(cc.fadeOut(1))},player1Dead:function(){cc.find("Canvas/player1").runAction(cc.fadeOut(1))},pugong:function(e){var t=this,n=cc.find("Canvas/player1");this.player1=n;var o=cc.find("Canvas/enemy1"),a=cc.find("Canvas/dhk/scroll"),s=cc.find("Canvas/dhk/scroll/view/content/item"),r=cc.moveTo(.5,o.getPosition().x-100,o.getPosition().y),l=cc.moveTo(.5,n.getPosition()),u=a.getComponent(cc.ScrollView),g=s.getComponent(cc.Label),m=n.getComponent(cc.Animation);this.liu.getComponent(cc.Animation).active=!0;var h=0,d=cc.sequence(cc.callFunc(function(){cc.log("\u5f00\u59cb\u653b\u51fb\u654c\u4eba")}),r,cc.callFunc(function(){m.getAnimationState("player_ack");t.liu.active=!1,m.play("player_ack")}),cc.callFunc(function(){null==i.WUQI?(h=Math.round((Math.random()+1)*(i.ack-c.def)),cc.log("\u6ca1\u6709\u88c5\u5907\u6b66\u5668")):(h=Math.round((Math.random()+1)*(i.ack+i.WUQI.ack-c.def)),cc.log("\u88c5\u5907\u6b66\u5668")),c.HP=c.HP-h>0?c.HP-h:0,g.string+=i.Name+"\u4f7f\u7528\u666e\u653b\u5bf9"+c.Name+"\u9020\u6210\u4e86"+h+"\u70b9\u4f24\u5bb3\n",c.HP<=0&&t.enemy1Dead(),u.scrollToBottom(.1)}),cc.spawn(cc.callFunc(function(){t.enemyAttacked(),t.drop(h)}),cc.delayTime(1)),l);this.repeat=n.runAction(cc.sequence(cc.repeat(d,1),cc.callFunc(function(){e()})))},localConvertWorldPointAR:function(e){return e?e.convertToWorldSpaceAR(cc.v2(0,0)):null},getWuGong:function(){return o[Math.floor(Math.random()*o.length)]},update:function(e){}}),cc._RF.pop()},{Enemy:"Enemy",Player:"Player",WuGong:"WuGong"}],btn_bb:[function(e,t,n){"use strict";cc._RF.push(t,"5b8ffjvYF5KjZXX1p0x2pUT","btn_bb"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=new cc.Component.EventHandler;e.target=this.node,e.component="btn_bb",e.handler="btnClick1",e.customEventData="click1 user data",this.node.getComponent(cc.Button).clickEvents.push(e)},btnClick1:function(e,t){var n=cc.find("Canvas/main/node"),i=cc.find("Canvas/main/node/beibao"),c=cc.find("Canvas/main/dhk/scroll/view/content/item"),o=cc.find("Canvas/main/dhk/scroll");cc.find("Canvas/main/dhk/scroll/view/content");if(n){var a=cc.moveTo(0,-i.getPosition().x,0),s=c.getComponent(cc.Label),r=o.getComponent(cc.ScrollView);s.string+="\u80cc\u5305\n",n.runAction(a),r.scrollToBottom(.1)}},start:function(){}}),cc._RF.pop()},{}],btn_df:[function(e,t,n){"use strict";cc._RF.push(t,"7f3f2VD9ZpJ4Js6EQSUvwtM","btn_df"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=new cc.Component.EventHandler;e.target=this.node,e.component="btn_df",e.handler="btnClick1",e.customEventData="click1 user data",this.node.getComponent(cc.Button).clickEvents.push(e)},btnClick1:function(e,t){var n=cc.find("Canvas/main/node"),i=cc.find("Canvas/main/node/btn_list"),c=cc.find("Canvas/main/dhk/scroll/view/content/item"),o=cc.find("Canvas/main/dhk/scroll");cc.find("Canvas/main/dhk/scroll/view/content");if(n){var a=cc.moveTo(0,-i.getPosition().x,0),s=c.getComponent(cc.Label),r=o.getComponent(cc.ScrollView);s.string+="\u5411\u53f3\u79fb\u52a8\u4e86\n",n.runAction(a),r.scrollToBottom(.1)}},start:function(){}}),cc._RF.pop()},{}],btn_dw:[function(e,t,n){"use strict";cc._RF.push(t,"174cfafhddII6zErOptzKJh","btn_dw"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=new cc.Component.EventHandler;e.target=this.node,e.component="btn_dw",e.handler="btnClick1",e.customEventData="click1 user data",this.node.getComponent(cc.Button).clickEvents.push(e)},btnClick1:function(e,t){var n=cc.find("Canvas/main/node"),i=cc.find("Canvas/main/node/duiwu_list"),c=cc.find("Canvas/main/dhk/scroll/view/content/item"),o=cc.find("Canvas/main/dhk/scroll");if(n){var a=cc.moveTo(.1,-i.getPosition().x,0),s=(c.getComponent(cc.Label),o.getComponent(cc.ScrollView));n.runAction(a),s.scrollToBottom(.1)}},start:function(){}}),cc._RF.pop()},{}],btn_mj:[function(e,t,n){"use strict";cc._RF.push(t,"72b81N3lTxArZkDn8aFh674","btn_mj"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=new cc.Component.EventHandler;e.target=this.node,e.component="btn_mj",e.handler="btnClick1",e.customEventData="click1 user data",this.node.getComponent(cc.Button).clickEvents.push(e)},btnClick1:function(e,t){cc.director.loadScene("mjmap")},start:function(){}}),cc._RF.pop()},{}],btn_rw:[function(e,t,n){"use strict";cc._RF.push(t,"c57dbLwrblPqav2/cAC1Zb6","btn_rw"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=new cc.Component.EventHandler;e.target=this.node,e.component="btn_rw",e.handler="btnClick1",e.customEventData="click1 user data",this.node.getComponent(cc.Button).clickEvents.push(e)},btnClick1:function(e,t){var n=cc.find("Canvas/main/node"),i=cc.find("Canvas/main/node/list"),c=cc.find("Canvas/main/dhk/scroll/view/content/item"),o=cc.find("Canvas/main/dhk/scroll");if(n){var a=cc.moveTo(0,-i.getPosition().x,0),s=c.getComponent(cc.Label),r=o.getComponent(cc.ScrollView);s.string+="\u5411\u5de6\u79fb\u52a8\u4e86\n",n.runAction(a),r.scrollToBottom(.1)}},start:function(){}}),cc._RF.pop()},{}],btn_wg:[function(e,t,n){"use strict";cc._RF.push(t,"dfd4fFDOstFc55eRn1/ekeI","btn_wg"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=new cc.Component.EventHandler;e.target=this.node,e.component="btn_wg",e.handler="btnClick1",e.customEventData="click1 user data",this.node.getComponent(cc.Button).clickEvents.push(e)},btnClick1:function(e,t){var n=cc.find("Canvas/main/node"),i=cc.find("Canvas/main/node/wugong"),c=cc.find("Canvas/main/dhk/scroll/view/content/item"),o=cc.find("Canvas/main/dhk/scroll");cc.find("Canvas/main/dhk/scroll/view/content");if(n){var a=cc.moveTo(0,-i.getPosition().x,0),s=c.getComponent(cc.Label),r=o.getComponent(cc.ScrollView);s.string+="\u6b66\u529f\n";var l=new cc.Event.EventCustom("select-tab",!0);l.setUserData("\u6b66\u529f"),i.dispatchEvent(l),n.runAction(a),r.scrollToBottom(.1)}},start:function(){}}),cc._RF.pop()},{}],duiwu_list:[function(e,t,n){"use strict";cc._RF.push(t,"a0ce7IZUFVFlo6aoFsPknFR","duiwu_list");var i=e("Player");cc.Class({extends:cc.Component,properties:{duiwu_node:null,renwu:{default:null,type:cc.Node,displayName:"\u4eba\u7269\u7a97\u53e3"}},onLoad:function(){this.team=[];var e=cc.find("Canvas/main/node/duiwu_list/renwu1/Background/Label"),t=cc.find("Canvas/main/node/duiwu_list/renwu2/Background/Label"),n=cc.find("Canvas/main/node/duiwu_list/renwu3/Background/Label"),i=cc.find("Canvas/main/node/duiwu_list/renwu4/Background/Label");this.team[0]=e.getComponent(cc.Label),this.team[1]=t.getComponent(cc.Label),this.team[2]=n.getComponent(cc.Label),this.team[3]=i.getComponent(cc.Label)},addHuoBan:function(e,t){this.duiwu_node=e.target;var n=cc.instantiate(this.renwu);n.setPosition(0,0),this.node.addChild(n)},start:function(){var e=this;this.node.on("ok",function(t){var n=t.getUserData();if(e.duiwu_node){var c=e.duiwu_node.name.substr(-1,1);i.duiwu.forEach(function(e,t){null!=e&&e.ID===n.ID&&(i.duiwu[t]=null)}),i.duiwu[c-1]=n,e.updateDuiWu(),console.log(i.duiwu)}},this)},updateDuiWu:function(){for(var e=0;e<i.duiwu.length;e++)null!=i.duiwu[e]?this.team[e].string=i.duiwu[e].Name:this.team[e].string="+"}}),cc._RF.pop()},{Player:"Player"}],end:[function(e,t,n){"use strict";cc._RF.push(t,"c391dLdt/RLp6ys0rNhtNfT","end"),cc.Class({extends:cc.Component,properties:{drop:{default:null,type:cc.Prefab},drops:[]},onLoad:function(){var e=this;cc.log("\u6389\u843d\u7684\u7269\u54c1:%s",this.drops),this.drops.forEach(function(t){var n=e.node.getChildByName("items"),i=cc.instantiate(e.drop);i.getComponent(cc.Label).string=t.name+"x"+t.num,n.addChild(i)})},btnClick1:function(e,t){Global.boss.dead=!0,Global.goScene("mjtiledmap"),cc.log("\u573a\u666f\u8df3\u8f6c\u4e86"),cc.find("Canvas/end").destroy()},start:function(){}}),cc._RF.pop()},{}],enemy1:[function(e,t,n){"use strict";cc._RF.push(t,"14178zfItdOSaWlN8qtcme2","enemy1"),cc.Class({extends:cc.Component,properties:{_enmey:null,HP:{default:null,type:cc.Label},HP_Pro:{default:null,type:cc.ProgressBar},Name:{default:null,type:cc.Label}},onLoad:function(){},start:function(){},ack:function(e){var t=this;return new Promise(function(n,i){var c=cc.find("Canvas/dhk/scroll"),o=cc.find("Canvas/dhk/scroll/view/content/item"),a=cc.moveTo(.5,e.getPosition().x+100,t.node.getPosition().y),s=cc.moveTo(.5,t.node.getPosition()),r=c.getComponent(cc.ScrollView),l=o.getComponent(cc.Label),u=t.node.getComponent("enemy1")._enmey,g=e.getComponent("player1")._player;cc.log("\u654c\u4ebaX\u5750\u6807"+t.node.getPosition().x),t.node.runAction(cc.sequence(cc.callFunc(function(){cc.log("\u5f00\u59cb\u88ab\u653b\u51fb")}),a,cc.callFunc(function(){g.HP=g.HP-(u.ack-g.def)>0?g.HP-(u.ack-g.def):0,l.string+=g.Name+"\u53d7\u5230\u4e86"+(u.ack-g.def)+"\u70b9\u4f24\u5bb3\n",g.HP<=0&&(t.player1Dead(e),cc.log("\u6b7b\u4e86")),r.scrollToBottom(.1)}),cc.spawn(cc.callFunc(function(){t.playerAttacked(e),t.playerDrop(e,u.ack-g.def)}),cc.delayTime(1)),s,cc.callFunc(function(){n()})))})},playerDrop:function(e,t){var n=new cc.Node;n.addComponent(cc.Label),n.color=cc.Color.RED,n.getComponent(cc.Label).string="-"+t,n.parent=e,n.setPosition(0,50);var i=cc.spawn(cc.moveBy(1,0,30),cc.fadeOut(1));n.runAction(i)},playerAttacked:function(e){return new Promise(function(t,n){e.runAction(cc.sequence(cc.moveBy(.25,-15,0),cc.moveBy(.25,15,0),cc.moveBy(.25,15,0),cc.moveBy(.25,-15,0),cc.callFunc(t)))})},player1Dead:function(e){e.runAction(cc.fadeOut(1))},update:function(e){this._enmey&&(this.Name.string=this._enmey.Name,this.HP_Pro.progress=(this._enmey.HP/this._enmey.MAXHP).toFixed(1))}}),cc._RF.pop()},{}],hp:[function(e,t,n){"use strict";cc._RF.push(t,"6e126G1k4pO956gWA+GVZNe","hp"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],huoban_list:[function(e,t,n){"use strict";cc._RF.push(t,"266c0EIfq1F/LaiSZxEvQDX","huoban_list"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],items:[function(e,t,n){"use strict";cc._RF.push(t,"d8005u8o99AgLblW57jlV99","items"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=new cc.Component.EventHandler;e.target=this.node,e.component="items",e.handler="btnClick1",e.customEventData="click1 user data",this.node.getComponent(cc.Button).clickEvents.push(e)},btnClick1:function(e,t){var n=cc.find("Canvas/main/node"),i=cc.find("Canvas/main/dhk/scroll/view/content/item"),c=this.node.getComponent(cc.Label),o=cc.find("Canvas/main/dhk/scroll");if(n){var a=i.getComponent(cc.Label),s=o.getComponent(cc.ScrollView);a.string+="\u70b9\u51fb\u4e86"+c.string+"\n";var r=new cc.Event.EventCustom("select-item",!0);r.setUserData(c.string),this.node.dispatchEvent(r),s.scrollToBottom(.1)}},start:function(){}}),cc._RF.pop()},{}],jishi:[function(e,t,n){"use strict";cc._RF.push(t,"7b3cfu92QJI8pAA91UbwD8Y","jishi");var i=e("Player"),c=e("WuGong"),o=e("ZhuangBei"),a=e("ShangCheng");cc.Class({extends:cc.Component,properties:{main:{default:null,type:cc.Node},money:{default:null,type:cc.Label},item1:{default:null,type:cc.Prefab},last_time:{default:null,type:cc.Label},select_title:"zhuangbei",interval:null},onLoad:function(){var e=this,t=this;this.items=this.node.getChildByName("items"),this.item_describe=this.node.getChildByName("item_describe"),this.item_name=this.item_describe.getChildByName("item_name"),this.describe=this.item_describe.getChildByName("describe"),this.shuoming=this.describe.getChildByName("shuoming");var n=this.item_name.getComponent(cc.Label),i=this.shuoming.getComponent(cc.Label);if(this.node.on("sh_select_item",function(c){e.select_node=c.target,t.item=t.getItemByName(c.getUserData()),cc.log(t.item),null==t.item?n.string=t.item.Name:n.string=t.item.name,i.string=t.item.describe,cc.loader.loadRes(t.item.show,cc.SpriteFrame,function(e,n){e&&cc.log(e),t.node.getChildByName("show").getComponent(cc.Sprite).spriteFrame=n})}),null==this.interval){t=this;this.interval=setInterval(function(){var n=new Date,i=a.time-(n.getTime()-a.startTime.getTime());if(i<0)return e.item_describe.active=!1,a.startTime=new Date,t.getItems(),t.clearItems(),"zhuangbei"==t.select_title&&t.initZhuangBei(),void("wugong"==t.select_title&&t.initShuJi());var c=i%864e5,o=Math.floor(c/36e5);o>=0&&o<10&&(o="0"+o);var s=c%36e5,r=Math.floor(s/6e4);r>=0&&r<10&&(r="0"+r);var l=s%6e4,u=Math.round(l/1e3);u>=0&&u<10&&(u="0"+u),cc.log(o+":"+r+":"+u),t.last_time.string="\u5237\u65b0\u65f6\u95f4: "+o+":"+r+":"+u},1e3)}},start:function(){0==a.startTime&&(a.startTime=new Date),this.money.string=i.money,0==Global.shangcheng_first&&(this.getItems(),Global.shangcheng_first=!0),this.select_title="zhuangbei",this.initZhuangBei()},getItems:function(){if(o.length<=10)a.zhuangbei=[],o.forEach(function(e){a.zhuangbei.push(e)});else for(var e=10,t=0;t<e;t++){var n=Math.floor(Math.random()*o.length);a.zhuangbei.push(o.splice(n,1)[0])}if(cc.log(o),c.length<=10)a.wugong=[],c.forEach(function(e){a.wugong.push(e)});else for(e=10,t=0;t<e;t++){n=Math.floor(Math.random()*c.length);a.wugong.push(c.splice(n,1)[0])}cc.log(c)},onEnable:function(){this.main.active=!1;var e=this;null==this.interval&&(this.interval=setInterval(function(){var t=new Date,n=a.time-(t.getTime()-a.startTime.getTime());n<=0&&(a.startTime=t,n=0,e.getItems(),"zhuangbei"==e.select_title&&e.initZhuangBei(),"wugong"==e.select_title&&e.initShuJi());var i=n%864e5,c=Math.floor(i/36e5);c>=0&&c<10&&(c="0"+c);var o=i%36e5,s=Math.floor(o/6e4);s>=0&&s<10&&(s="0"+s);var r=o%6e4,l=Math.round(r/1e3);l>=0&&l<10&&(l="0"+l),cc.log(c+":"+s+":"+l),e.last_time.string="\u5237\u65b0\u65f6\u95f4: "+c+":"+s+":"+l},1e3))},progressCallback:function(){},completeCallback:function(){},selectZhuangBei:function(){this.select_title="zhuangbei",this.initZhuangBei()},selectWuGong:function(){this.select_title="wugong",this.initShuJi()},initZhuangBei:function(){var e=this;this.clearItems(),a.zhuangbei.forEach(function(t){cc.loader.loadRes(t.icon,cc.SpriteFrame,function(n,i){n&&cc.log(n);var c=cc.instantiate(e.item1),o=c.getChildByName("label"),a=c.getChildByName("money").getChildByName("label_num"),s=(o=c.getChildByName("label"),c.getChildByName("icon_bian").getChildByName("icon")),r=o.getComponent(cc.Label),l=a.getComponent(cc.Label);s.getComponent(cc.Sprite).spriteFrame=i,r.string=t.name,l.string=t.money,c.parent=e.items,c.setPosition(0,0)})}),e.node.getChildByName("show").getComponent(cc.Sprite).spriteFrame=null},initShuJi:function(){var e=this;this.clearItems(),a.wugong.forEach(function(t){cc.loader.loadRes(t.icon,cc.SpriteFrame,function(n,i){n&&cc.log(n);var c=cc.instantiate(e.item1),o=c.getChildByName("label"),a=c.getChildByName("money").getChildByName("label_num"),s=(o=c.getChildByName("label"),c.getChildByName("icon_bian").getChildByName("icon")),r=o.getComponent(cc.Label),l=a.getComponent(cc.Label);s.getComponent(cc.Sprite).spriteFrame=i,r.string=t.name,l.string=t.money,c.parent=e.items,c.setPosition(0,0)})}),e.node.getChildByName("show").getComponent(cc.Sprite).spriteFrame=null},showDescribe:function(){this.item_describe.active=!0},getItemByName:function(e){var t=null;return o.forEach(function(n){n.name==e&&(t=n)}),t||c.forEach(function(n){n.name==e&&(t=n)}),t},describeCancel:function(){this.item_describe.active=!1},onDestroy:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)},onDisable:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)},describeOK:function(){var e=this;if(i.money-this.item.money<0)cc.log("\u5143\u5b9d\u4e0d\u591f\u4e86\uff01");else{if(i.money=i.money-this.item.money,this.money.string=i.money,cc.log(i.money),cc.log(this.select_node),this.select_node.destroy(),"zhuangbei"==this.select_title&&(a.zhuangbei.forEach(function(t){if(t.name==e.item.name){var n=a.zhuangbei.indexOf(t);a.zhuangbei.splice(n,1)}}),this.item.num=1,i.BeiBao.push(this.item)),"wugong"==this.select_title){var t=!1;a.wugong.forEach(function(t){if(t.name==e.item.name){var n=a.wugong.indexOf(t);a.wugong.splice(n,1)}}),i.BeiBao.forEach(function(n){n.name==e.item.name&&(n.num+=1,t=!0)}),t||(this.item.num=1,i.BeiBao.push(this.item))}e.node.getChildByName("show").getComponent(cc.Sprite).spriteFrame=null,cc.log(i.BeiBao),this.item_describe.active=!1}},clearItems:function(){this.items.children.forEach(function(e){e.destroy()})}}),cc._RF.pop()},{Player:"Player",ShangCheng:"ShangCheng",WuGong:"WuGong",ZhuangBei:"ZhuangBei"}],loading:[function(e,t,n){"use strict";cc._RF.push(t,"e1981cbzhFIQ5yHxljW4jH0","loading"),cc.Class({extends:cc.Component,properties:{_loading:!1,loadProgressBar:{default:null,type:cc.ProgressBar},progressTip:{default:null,type:cc.Label}},onLoad:function(){this.resource=null,this.loadProgressBar.progress=0,this._clearAll(),cc.director.preloadScene(Global.sceneName,this._progressCallback.bind(this),this._completeCallback.bind(this))},_clearAll:function(){},_progressCallback:function(e,t,n){cc.log(e+t),this.progress=e/t,this.resource=n,cc.log("\u6b63\u5728\u52a0\u8f7d"),cc.log(this.resource.id),this.completedCount=e,this.totalCount=t},_completeCallback:function(e,t){cc.log("\u52a0\u8f7d\u5b8c\u6210!")},start:function(){},update:function(e){if(this.resource){var t=this.loadProgressBar.progress;if(t>=1)this._loading||(this._loading=!0,cc.director.loadScene(Global.sceneName));else{t<this.progress&&((t+=e)>1&&(t=1),cc.log(t)),this.loadProgressBar.progress=t;var n=(100*t).toFixed(0)+"%";this.progressTip.string=n}}}}),cc._RF.pop()},{}],login:[function(e,t,n){"use strict";cc._RF.push(t,"0fc493RUblEdrsEJr2H81WA","login");var i=e("Player");cc.Class({extends:cc.Component,properties:{UserName:{default:null,type:cc.EditBox},LabelName:{default:null,type:cc.Label}},onLoad:function(){var e=new cc.Component.EventHandler;e.target=this.node,e.component="login",e.handler="btnClick1",e.customEventData="click1 user data",this.node.getComponent(cc.Button).clickEvents.push(e)},btnClick1:function(e,t){1==this.UserName.node.active&&(i.Name=this.UserName.string),Global.goScene("main")},randomName:function(e){var t=["\u6b27\u9633","\u4e01","\u4e54","\u8bf8\u845b"];this.UserName.string=t[Math.floor(Math.random()*t.length)]+["\u65b0","\u6653\u6885","\u4eae","\u5cf0"][Math.floor(Math.random()*t.length)]},start:function(){}}),cc._RF.pop()},{Player:"Player"}],main:[function(e,t,n){"use strict";cc._RF.push(t,"99355srhQZI5b17czg+/EFV","main");var i=e("Player");cc.Class({extends:cc.Component,properties:{jishi:{default:null,type:cc.Node},wugong_list:{default:null,type:cc.Prefab},wuqi:{type:cc.Label,default:null,displayName:"\u6b66\u5668",tooltip:"\u6b66\u5668\u6587\u672c\u6846"},wugong:{type:cc.Label,default:null,displayName:"\u6b66\u529f",tooltip:"\u6b66\u529f\u6587\u672c\u6846"},yifu:{type:cc.Label,default:null,displayName:"\u8863\u670d",tooltip:"\u8863\u670d\u6587\u672c\u6846"},xiezi:{type:cc.Label,default:null,displayName:"\u978b\u5b50",tooltip:"\u978b\u5b50\u6587\u672c\u6846"},yaodai:{type:cc.Label,default:null,displayName:"\u8170\u5e26",tooltip:"\u8170\u5e26\u6587\u672c\u6846"}},onLoad:function(){var e=this;this.label_wugong_list=cc.find("Canvas/main/node/list/view/content/label_wugong_list"),this.main=cc.find("Canvas/main"),this.wgs=this.label_wugong_list.children,this.node.on("select_wugong",function(t){var n=t.getUserData();cc.log("\u6dfb\u52a0\u6b66\u529f:"+n),e.wugong.string=n},this),this.node.on("select_wuqi",function(t){var n=t.getUserData();cc.log("\u6dfb\u52a0\u6b66\u529f:"+n),e.wuqi.string=n},this),this.node.on("select_yifu",function(t){var n=t.getUserData();cc.log("\u6dfb\u52a0\u6b66\u529f:"+n),e.yifu.string=n},this),this.node.on("select_xiezi",function(t){var n=t.getUserData();cc.log("\u6dfb\u52a0\u6b66\u529f:"+n),e.xiezi.string=n},this),this.node.on("select_yaodai",function(t){var n=t.getUserData();cc.log("\u6dfb\u52a0\u6b66\u529f:"+n),e.yaodai.string=n},this)},start:function(){this.wugongInit(),this.zhuangbeiInit()},huobanInit:function(){var e=this;i.huoban.length>0&&i.huoban.forEach(function(t){e.updatePlayerStatus(t)})},wugongInit:function(){for(var e=0;e<i.JN.length;e++){if(e<this.wgs.length)this.wgs[e].getChildByName("name").getComponent(cc.Label).string=i.JN[e].name}},zhuangbeiInit:function(){var e=cc.find("Canvas/main/node/list/view/content/laebel_zhuangbei/wuqi/wg/name"),t=cc.find("Canvas/main/node/list/view/content/laebel_zhuangbei/yaodai/wg/name"),n=cc.find("Canvas/main/node/list/view/content/laebel_zhuangbei/yifu/wg/name"),c=cc.find("Canvas/main/node/list/view/content/laebel_zhuangbei/xiezi/wg/name"),o=e.getComponent(cc.Label),a=t.getComponent(cc.Label),s=c.getComponent(cc.Label),r=n.getComponent(cc.Label);null!=i.WUQI&&(o.string=i.WUQI.name),null!=i.YIFU&&(r.string=i.YIFU.name),null!=i.XIEZI&&(s.string=i.XIEZI.name),null!=i.YAODAI&&(a.string=i.YAODAI.name)},goShop:function(){this.jishi.active=!0},goMain:function(){this.main.active=!0,this.jishi.active=!1},addWQ:function(){Global.wugong_list.title="\u88c5\u5907",Global.wugong_list.zhuangbei.part="\u6b66\u5668",this.wugonglist=cc.instantiate(this.wugong_list),this.wugonglist.parent=this.node,this.wugonglist.setPosition(0,0),this.wugonglist.getComponent("wugong_list").jn=this.wuqi},addYD:function(){Global.wugong_list.title="\u88c5\u5907",Global.wugong_list.zhuangbei.part="\u8170\u5e26",this.wugonglist=cc.instantiate(this.wugong_list),this.wugonglist.parent=this.node,this.wugonglist.setPosition(0,0),this.wugonglist.getComponent("wugong_list").jn=this.yaodai},addXZ:function(){cc.log(Global.wugong_list.title),Global.wugong_list.title="\u88c5\u5907",Global.wugong_list.zhuangbei.part="\u978b\u5b50",this.wugonglist=cc.instantiate(this.wugong_list),this.wugonglist.parent=this.node,this.wugonglist.setPosition(0,0),this.wugonglist.getComponent("wugong_list").jn=this.xiezi},addYF:function(){Global.wugong_list.title="\u88c5\u5907",Global.wugong_list.zhuangbei.part="\u8863\u670d",this.wugonglist=cc.instantiate(this.wugong_list),this.wugonglist.parent=this.node,this.wugonglist.setPosition(0,0),this.wugonglist.getComponent("wugong_list").jn=this.yifu},addJN:function(){Global.wugong_list.title="\u6b66\u529f",this.wugonglist=cc.instantiate(this.wugong_list),this.wugonglist.parent=this.node,this.wugonglist.setPosition(0,0),this.wugonglist.getComponent("wugong_list").jn=this.wugong}}),cc._RF.pop()},{Player:"Player"}],meizhuang_map:[function(e,t,n){"use strict";cc._RF.push(t,"22ee9VG+2VM86d75n1W7+fH","meizhuang_map");cc.Enum({NONE:0,UP:1,DOWN:2,LEFT:3,RIGHT:4});cc.Class({extends:cc.Component,properties:{_playerPos:null},_getTilePos:function(e){var t=this.node.getContentSize(),n=this._tilemap.getTileSize(),i=Math.floor(e.x/n.width),c=Math.floor((t.height-e.y)/n.height)-1;return cc.v2(i,c)},onLoad:function(){var e=this;this.initPlayer(),this.initItem(),this.node.on(cc.Node.EventType.TOUCH_END,function(t){var n=e.node.convertToNodeSpaceAR(t.touch.getLocation()),i=n.x-e._player.x,c=n.y-e._player.y;if(cc.log("Xvalue"+i+"\nYvalue"+c),cc.log("\u524d"+e._player.x+","+e._player.y),Math.abs(i)>=Math.abs(c)&&Math.abs(i)>32?i>0?e._player.x+=32:e._player.x-=32:Math.abs(c)>=Math.abs(i)&&Math.abs(c)>32&&(c>0?e._player.y+=32:e._player.y-=32),cc.log("\u540e"+e._getTilePos(e._player)),e._layerBoss.getTileGIDAt(e._getTilePos(e._player))&&!Global.boss.dead&&(Global.player.x=e._player.x,Global.player.y=e._player.y,Global.player.saved=!0,Global.goScene("battle",!1)),e._layerBaoXiangClose.getTileGIDAt(e._getTilePos(e._player))&&!Global.baoxiang.opened&&(e.showMessage("\u7a7a\u7a7a\u5982\u4e5f~_~",1),e._layerBaoXiang.node.active=!0,e._layerBaoXiangClose.node.active=!1,Global.baoxiang.opened=!0),e._layerEnd.getTileGIDAt(e._getTilePos(e._player))){if(!Global.boss.dead)return void e.showMessage("\u8bf7\u5148\u6740\u4e86boss\u540e\u901a\u5173!",1);Global.player.saved=!1,Global.boss.dead=!1,Global.baoxiang.opened=!1,Global.goScene("main")}})},initPlayer:function(){var e=this.node.getContentSize();if(this._tilemap=cc.find("Canvas/map").getComponent(cc.TiledMap),this._player=cc.find("Canvas/map/player"),this._layerBoss=this._tilemap.getLayer("boss"),this._layerBaoXiang=this._tilemap.getLayer("open_baoxiang"),this._layerBaoXiangClose=this._tilemap.getLayer("close_baoxiang"),this._layerBossDead=this._tilemap.getLayer("boss_dead"),this._layerEnd=this._tilemap.getLayer("end"),this._layerBossDead.node.active=!1,this._layerBaoXiang.node.active=!1,cc.log(this._layerBoss),cc.log(this._layerBaoXiang),cc.log(this._layerBossDead),Global.player.saved)Global.boss.dead&&(this._layerBoss.node.active=!1,this._layerBossDead.node.active=!0),Global.baoxiang.opened&&(this._layerBaoXiangClose.node.active=!1,this._layerBaoXiang.node.active=!0),this._player.setPosition(Global.player.x,Global.player.y);else{var t=this._tilemap.getObjectGroup("players").getObject("player1");cc.log(t),this._player.setPosition(t.x,e.height-t.y),cc.log(this._player)}},initItem:function(){},start:function(){},showMessage:function(e,t){var n=new cc.Node;n.addComponent(cc.Label).string=e,n.width=400,n.height=400;var i=cc.find("Canvas");n.parent=i,n.setPosition(0,0),this.scheduleOnce(function(){n.destroy()},t)}}),cc._RF.pop()},{}],mjmap:[function(e,t,n){"use strict";cc._RF.push(t,"045b3S/n0FJO6Xht+UqCcFn","mjmap"),cc.Class({extends:cc.Component,properties:{},gobattle:function(e,t){Global.goScene("mjtiledmap",!1)},goback:function(e,t){Global.goScene("main")},start:function(){}}),cc._RF.pop()},{}],player1:[function(e,t,n){"use strict";cc._RF.push(t,"8280erEKDtJFKFWKyiEi9v2","player1"),cc.Class({extends:cc.Component,properties:{_player:null,HP:{default:null,type:cc.Label},HP_Pro:{default:null,type:cc.ProgressBar},Name:{default:null,type:cc.Label}},onLoad:function(){},ack:function(e){var t=this;return new Promise(function(n,i){t.pugong(n,e)})},pugong:function(e,t){var n=this,i=cc.find("Canvas/dhk/scroll/view/content/item"),c=cc.find("Canvas/dhk/scroll"),o=cc.moveTo(.5,t.getPosition().x-100,t.getPosition().y),a=cc.moveTo(.5,this.node.getPosition()),s=c.getComponent(cc.ScrollView),r=i.getComponent(cc.Label),l=this.node.getComponent("player1")._player,u=t.getComponent("enemy1")._enmey,g=0,m=cc.sequence(cc.callFunc(function(){cc.log("\u5f00\u59cb\u653b\u51fb\u654c\u4eba")}),o,cc.callFunc(function(){}),cc.callFunc(function(){null==l.WUQI?(g=Math.round((Math.random()+1)*(l.ack-u.def)),cc.log("\u6ca1\u6709\u88c5\u5907\u6b66\u5668")):(g=Math.round((Math.random()+1)*(l.ack+l.WUQI.ack-u.def)),cc.log("\u88c5\u5907\u6b66\u5668")),u.HP=u.HP-g>0?u.HP-g:0,r.string+=l.Name+"\u4f7f\u7528\u666e\u653b\u5bf9"+u.Name+"\u9020\u6210\u4e86"+g+"\u70b9\u4f24\u5bb3\n",u.HP<=0&&(n.enemy1Dead(t),cc.log("\u6b7b\u4e86")),s.scrollToBottom(.1)}),cc.spawn(cc.callFunc(function(){n.enemyAttacked(t),n.drop(t,g)}),cc.delayTime(1)),a);this.repeat=this.node.runAction(cc.sequence(cc.repeat(m,1),cc.callFunc(function(){e()})))},enemyAttacked:function(e){var t=this;return new Promise(function(n,i){e.runAction(cc.sequence(t.Attacked(),cc.callFunc(n)))})},Attacked:function(){return cc.sequence(cc.moveBy(.25,20,0),cc.moveBy(.25,-20,0),cc.moveBy(.25,-20,0),cc.moveBy(.25,20,0))},enemy1Dead:function(e){e.runAction(cc.fadeOut(1))},drop:function(e,t){var n=new cc.Node;n.addComponent(cc.Label),n.color=cc.Color.RED,n.getComponent(cc.Label).string="-"+t,n.parent=e,n.setPosition(0,50);var i=cc.spawn(cc.moveBy(1,0,30),cc.fadeOut(1));n.runAction(i)},start:function(){},update:function(e){this._player&&(this.Name.string=this._player.Name,this.HP.string=""+this._player.HP,this.HP_Pro.progress=(this._player.HP/this._player.MAXHP).toFixed(1))}}),cc._RF.pop()},{}],renwu_list:[function(e,t,n){"use strict";cc._RF.push(t,"d5775Z/18tA5bql8+ltGvgM","renwu_list");var i=e("Player");cc.Class({extends:cc.Component,properties:{title:"",item:"",Nname:{default:null,type:cc.Prefab},Ncontent:{default:null,type:cc.Node}},onLoad:function(){this.Ncontent=cc.find("Canvas/main/node/list/shuxing/name/view/content");var e=cc.find("Canvas/main/node/list/view/content/label_list/xm"),t=cc.find("Canvas/main/node/list/view/content/label_list/ack"),n=cc.find("Canvas/main/node/list/view/content/label_list/def"),i=cc.find("Canvas/main/node/list/view/content/label_list/hp"),c=cc.find("Canvas/main/node/list/view/content/label_list/mp"),o=cc.find("Canvas/main/node/list/view/content/label_list/exp"),a=cc.find("Canvas/main/node/list/view/content/label_list/jj"),s=cc.find("Canvas/main/node/list/view/content/label_list/jn"),r=cc.find("Canvas/main/node/list/view/content/label_list/money");this.name=e.getComponent(cc.Label),this.ack1=t.getComponent(cc.Label),this.def1=n.getComponent(cc.Label),this.hp1=i.getComponent(cc.Label),this.mp1=c.getComponent(cc.Label),this.exp1=o.getComponent(cc.Label),this.jj1=a.getComponent(cc.Label),this.jn1=s.getComponent(cc.Label),this.money1=r.getComponent(cc.Label)},start:function(){var e=this;this.node.on("select-renwu",function(t){e.item=t.getUserData(),e.selectItem(e.item)},this)},updatePlayerStatus:function(e){this.name.string="\u59d3\u540d:"+e.Name,this.ack1.string="\u653b\u51fb:"+e.ack,this.def1.string="\u9632\u5fa1:"+e.def,this.hp1.string="\u8840\u91cf:"+e.HP,this.mp1.string="\u5185\u529b:"+e.MP,this.exp1.string="\u4fee\u4e3a:"+e.EXP+"/"+e.MAXEXP,this.jj1.string="\u5883\u754c:"+e.LEVEL,this.money1.string="\u5143\u5b9d:"+e.money;var t="";e.WUGONG.forEach(function(e){t+=e.name+","}),this.jn1.string="\u6b66\u529f:"+t},onEnable:function(){this.clearItems(),this.ItemList()},clearTitles:function(){this.Ntab.children.forEach(function(e){e.destroy()})},clearItems:function(){this.Ncontent.children.forEach(function(e){e.destroy()})},ItemList:function(){var e=this,t=new Array,n=cc.instantiate(this.Nname),c=n.getComponent(cc.Label);c.string=i.Name,t.push(c.string),this.Ncontent.addChild(n),i.huoban.forEach(function(n){var i=cc.instantiate(e.Nname),c=i.getComponent(cc.Label);c.string=n.Name,t.push(c.string),e.Ncontent.addChild(i)}),this.item=t[0],this.selectItem(this.item)},selectItem:function(e){var t=this;i.Name!==e?i.huoban.forEach(function(n){n.Name===e&&(console.log(n),t.renwu=n)}):this.renwu=i},btn_ok:function(){var e=new cc.Event.EventCustom("ok",!0);e.setUserData(this.renwu),this.node.dispatchEvent(e),this.node.destroy()},update:function(e){this.updatePlayerStatus(this.renwu)}}),cc._RF.pop()},{Player:"Player"}],renwu:[function(e,t,n){"use strict";cc._RF.push(t,"25b57freWpIFbsXA2uStL91","renwu"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=new cc.Component.EventHandler;e.target=this.node,e.component="renwu",e.handler="btnClick1",e.customEventData="click1 user data",this.node.getComponent(cc.Button).clickEvents.push(e)},btnClick1:function(e,t){var n=cc.find("Canvas/main/node"),i=cc.find("Canvas/main/dhk/scroll/view/content/item"),c=this.node.getComponent(cc.Label),o=cc.find("Canvas/main/dhk/scroll");if(n){var a=i.getComponent(cc.Label),s=o.getComponent(cc.ScrollView);a.string+="\u70b9\u51fb\u4e86"+c.string+"\n";var r=new cc.Event.EventCustom("select-renwu",!0);r.setUserData(c.string),this.node.dispatchEvent(r),s.scrollToBottom(.1)}},start:function(){}}),cc._RF.pop()},{}],shangcheng_item:[function(e,t,n){"use strict";cc._RF.push(t,"97da5x8N+dMMJgSf7JkQDju","shangcheng_item"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=this.node.getChildByName("label");this.item_name=e.getComponent(cc.Label).string,cc.log(this.item_name)},start:function(){},selectItem:function(){cc.log(this.item_name);var e=new cc.Event.EventCustom("sh_select_item",!0);e.setUserData(this.item_name),this.node.dispatchEvent(e,this.item_name)}}),cc._RF.pop()},{}],titles:[function(e,t,n){"use strict";cc._RF.push(t,"d998cU+d3JE1oiMNHk5+9cd","titles"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=new cc.Component.EventHandler;e.target=this.node,e.component="titles",e.handler="btnClick1",e.customEventData="click1 user data",this.node.getComponent(cc.Button).clickEvents.push(e)},btnClick1:function(e,t){var n=cc.find("Canvas/main/node"),i=cc.find("Canvas/main/dhk/scroll/view/content/item"),c=this.node.getChildByName("tabitem").getComponent(cc.Label),o=cc.find("Canvas/main/dhk/scroll");if(n){var a=i.getComponent(cc.Label),s=o.getComponent(cc.ScrollView);a.string+="\u70b9\u51fb\u4e86"+c.string+"\n",cc.log("\u70b9\u51fb\u4e86"+c.string);var r=new cc.Event.EventCustom("select-tab",!0);r.setUserData(c.string),this.node.dispatchEvent(r),s.scrollToBottom(.1)}},start:function(){}}),cc._RF.pop()},{}],"use_v2.1.x_cc.Action":[function(e,t,n){"use strict";cc._RF.push(t,"571cbLL8v9DPr3774WJMQRP","use_v2.1.x_cc.Action"),cc.macro.ROTATE_ACTION_CCW=!0,cc._RF.pop()},{}],wg:[function(e,t,n){"use strict";cc._RF.push(t,"3ccf8OmzbRD24WcSPqta64F","wg");e("Player");cc.Class({extends:cc.Component,properties:{wugong_list:{type:cc.Prefab,default:null}},onLoad:function(){},start:function(){},addWQ:function(){Global.wugong_list.title="\u88c5\u5907",Global.wugong_list.zhuangbei.part="\u6b66\u5668";var e=this.wugonglist.getComponent("wugong_list"),t=this.node.getChildByName("name").getComponent(cc.Label);e.jn=t,this.wugonglist.active=!0},addYD:function(){Global.wugong_list.title="\u88c5\u5907",Global.wugong_list.zhuangbei.part="\u8170\u5e26";var e=this.wugonglist.getComponent("wugong_list"),t=this.node.getChildByName("name").getComponent(cc.Label);e.jn=t,this.wugonglist.active=!0},addXZ:function(){cc.log(Global.wugong_list.title),Global.wugong_list.title="\u88c5\u5907",Global.wugong_list.zhuangbei.part="\u978b\u5b50";var e=this.wugonglist.getComponent("wugong_list"),t=this.node.getChildByName("name").getComponent(cc.Label);e.jn=t,this.wugonglist.active=!0},addYF:function(){Global.wugong_list.title="\u88c5\u5907",Global.wugong_list.zhuangbei.part="\u62a4\u624b";var e=this.wugonglist.getComponent("wugong_list"),t=this.node.getChildByName("name").getComponent(cc.Label);e.jn=t,this.wugonglist.active=!0},addJN:function(){Global.wugong_list.title="\u6b66\u529f";var e=this.wugonglist.getComponent("wugong_list"),t=this.node.getChildByName("name").getComponent(cc.Label);e.jn=t,this.wugonglist.active=!0}}),cc._RF.pop()},{Player:"Player"}],wugong_list:[function(e,t,n){"use strict";cc._RF.push(t,"f8eb9h6LMFORIehETel6CQc","wugong_list");var i=e("Player");cc.Class({extends:cc.Component,properties:{row:"",title:"",item:"",jn:{default:null,type:cc.Label},Ntitle:{default:null,type:cc.Prefab},Nname:{default:null,type:cc.Prefab},Ntab:{default:null,type:cc.Node},Ncontent:{default:null,type:cc.Node},Nshuoming:{default:null,type:cc.Node}},onLoad:function(){var e=this;this.Ntab=cc.find("Canvas/wugong_list/tab"),this.Ncontent=cc.find("Canvas/wugong_list/name/view/content"),this.Nshuoming=cc.find("Canvas/wugong_list/shuoming"),this.node.on("select-tab",function(t){e.title=t.getUserData(),e.clearItems(),e.selectTitle(e.title)},this),this.node.on("select-item",function(t){e.item=t.getUserData(),e.selectItem(e.item)},this)},start:function(){var e=this,t=new Set;t.add(Global.wugong_list.title);var n=new Array;t.forEach(function(t){var i=cc.instantiate(e.Ntitle);i.getChildByName("tabitem").getComponent(cc.Label).string=t,n.push(t),e.Ntab.addChild(i)}),this.title=n[0],this.clearItems(),this.selectTitle(this.title)},clearItems:function(){this.Ncontent.children.forEach(function(e){e.destroy()})},deleteOldJN:function(){var e=!0,t=!1,n=void 0;try{for(var c,o=i.JN.keys()[Symbol.iterator]();!(e=(c=o.next()).done);e=!0){var a=c.value;if(cc.log("key:%s",a),cc.log("value:%",i.JN[a]),cc.log("oldvalue:%",this.jn.string),i.JN[a].name==this.jn.string){cc.log("\u8fdb\u6765\u5220\u9664\u4e86!%s",JSON.stringify(i.JN[a])),i.JN.splice(a,1);break}}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}cc.log("\u88c5\u5907\u6280\u80fd\u4e66:%s",JSON.stringify(i.JN))},selectTitle:function(e){var t=this;if("\u6b66\u529f"==this.title){var n=new Array;(o=(c=cc.instantiate(this.Nname)).getComponent(cc.Label)).string="<\u7a7a>",n.push(o.string),this.Ncontent.addChild(c),i.WUGONG.forEach(function(e){var c=!1;if(i.JN.forEach(function(t){t.name==e.name&&(c=!0)}),!c){var o=cc.instantiate(t.Nname),a=o.getComponent(cc.Label);a.string=e.name,n.push(a.string),t.Ncontent.addChild(o)}})}if("\u88c5\u5907"==this.title){var c,o,a=new Array;(o=(c=cc.instantiate(this.Nname)).getComponent(cc.Label)).string="<\u7a7a>",a.push(o.string),this.Ncontent.addChild(c),i.BeiBao.forEach(function(e){if(e.Part==Global.wugong_list.zhuangbei.part){t.row=e;var n=cc.instantiate(t.Nname),i=n.getComponent(cc.Label);i.string=e.name,a.push(i.string),t.Ncontent.addChild(n)}})}},selectItem:function(e){var t=this;if("<\u7a7a>"==e){var n=this.Nshuoming.getChildByName("title"),c=this.Nshuoming.getChildByName("num"),o=this.Nshuoming.getChildByName("body").getChildByName("details"),a=n.getComponent(cc.Label),s=o.getComponent(cc.Label),r=c.getComponent(cc.Label);return a.string="\u540d\u79f0",s.string="",r.string="",void(this.row=null)}i.WUGONG.forEach(function(n){if(n.name==e){var i=t.Nshuoming.getChildByName("title"),c=t.Nshuoming.getChildByName("num"),o=t.Nshuoming.getChildByName("body").getChildByName("details"),a=i.getComponent(cc.Label),s=o.getComponent(cc.Label),r=c.getComponent(cc.Label);a.string="\u540d\u79f0:"+n.name,s.string="\u54c1\u8d28:"+n.pingzhi+"\n",s.string+="=======================\n",s.string+=n.describe,r.string="\u6570\u91cf:"+n.num}}),i.BeiBao.forEach(function(n){if(n.name==e&&"\u88c5\u5907"==n.Type){if(t.row=n,"\u6b66\u5668"==n.Part){var i=t.Nshuoming.getChildByName("title"),c=t.Nshuoming.getChildByName("num"),o=t.Nshuoming.getChildByName("body").getChildByName("details"),a=i.getComponent(cc.Label),s=o.getComponent(cc.Label),r=c.getComponent(cc.Label);a.string="\u540d\u79f0:"+n.name,s.string="\u54c1\u8d28:"+n.pingzhi+"\n",s.string="\u653b\u51fb:"+n.ack+"\n",s.string+="=======================\n",s.string+=n.describe,r.string="\u6570\u91cf:"+n.num}if("\u8170\u5e26"==n.Part){var l=t.Nshuoming.getChildByName("title"),u=t.Nshuoming.getChildByName("num"),g=t.Nshuoming.getChildByName("body").getChildByName("details"),m=l.getComponent(cc.Label),h=g.getComponent(cc.Label),d=u.getComponent(cc.Label);m.string="\u540d\u79f0:"+n.name,h.string="\u54c1\u8d28:"+n.pingzhi+"\n",h.string="\u8840\u91cf:"+n.HP+"\n",h.string="\u9632\u5fa1:"+n.def+"\n",h.string+="=======================\n",h.string+=n.describe,d.string="\u6570\u91cf:"+n.num}if("\u978b\u5b50"==n.Part){var p=t.Nshuoming.getChildByName("title"),f=t.Nshuoming.getChildByName("num"),y=t.Nshuoming.getChildByName("body").getChildByName("details"),v=p.getComponent(cc.Label),b=y.getComponent(cc.Label),C=f.getComponent(cc.Label);v.string="\u540d\u79f0:"+n.name,b.string="\u54c1\u8d28:"+n.pingzhi+"\n",b.string="\u9632\u5fa1:"+n.def+"\n",b.string+="=======================\n",b.string+=n.describe,C.string="\u6570\u91cf:"+n.num}if("\u8863\u670d"==n.Part){var _=t.Nshuoming.getChildByName("title"),w=t.Nshuoming.getChildByName("num"),N=t.Nshuoming.getChildByName("body").getChildByName("details"),P=_.getComponent(cc.Label),E=N.getComponent(cc.Label),B=w.getComponent(cc.Label);P.string="\u540d\u79f0:"+n.name,E.string="\u54c1\u8d28:"+n.pingzhi+"\n",E.string="\u9632\u5fa1:"+n.def+"\n",E.string+="=======================\n",E.string+=n.describe,B.string="\u6570\u91cf:"+n.num}}})},addWG:function(){var e=this;if("\u6b66\u529f"==this.title){if(cc.log(this.item),this.deleteOldJN(),"<\u7a7a>"==this.item)return this.jn.string="+",void(this.node.active=!1);i.JN.forEach(function(t){t.name,e.item}),i.WUGONG.forEach(function(t){t.name==e.item&&i.JN.push(t)});var t=new cc.Event.EventCustom("select_wugong",!0);t.setUserData(this.item),this.node.dispatchEvent(t),this.node.destroy()}if("\u88c5\u5907"==this.title){if("\u6b66\u5668"==Global.wugong_list.zhuangbei.part){if("<\u7a7a>"==this.item)return this.jn.string="+",i.WUQI=null,void this.node.destroy();i.WUQI=this.row,cc.log("\u88c5\u5907\u4e86:"+JSON.stringify(i.WUQI)),this.addWQ()}if("\u8863\u670d"==Global.wugong_list.zhuangbei.part){if("<\u7a7a>"==this.item)return this.jn.string="+",i.YIFU=null,void this.node.destroy();i.YIFU=this.row,this.addYF()}if("\u8170\u5e26"==Global.wugong_list.zhuangbei.part){if("<\u7a7a>"==this.item)return this.jn.string="+",i.YAODAI=null,void this.node.destroy();i.YAODAI=this.row,this.addYD()}if("\u978b\u5b50"==Global.wugong_list.zhuangbei.part){if("<\u7a7a>"==this.item)return this.jn.string="+",i.XIEZI=null,void this.node.destroy();i.XIEZI=this.row,this.addXZ()}}},addWQ:function(){var e=new cc.Event.EventCustom("select_wuqi",!0);e.setUserData(this.item),this.node.dispatchEvent(e),this.node.destroy()},addYF:function(){var e=new cc.Event.EventCustom("select_yifu",!0);e.setUserData(this.item),this.node.dispatchEvent(e),this.node.destroy()},addYD:function(){var e=new cc.Event.EventCustom("select_yaodai",!0);e.setUserData(this.item),this.node.dispatchEvent(e),this.node.destroy()},addXZ:function(){var e=new cc.Event.EventCustom("select_xiezi",!0);e.setUserData(this.item),this.node.dispatchEvent(e),this.node.destroy()},cancel:function(){this.node.destroy()}}),cc._RF.pop()},{Player:"Player"}],wugong:[function(e,t,n){"use strict";cc._RF.push(t,"fc248uUCc1JMbFoHIPA2ZtP","wugong");var i=e("Player");cc.Class({extends:cc.Component,properties:{title:"",item:"",Ntitle:{default:null,type:cc.Prefab},Nname:{default:null,type:cc.Prefab},Ntab:{default:null,type:cc.Node},Ncontent:{default:null,type:cc.Node},Nshuoming:{default:null,type:cc.Node}},onLoad:function(){var e=this;this.Ntab=cc.find("Canvas/main/node/wugong/tab"),this.Ncontent=cc.find("Canvas/main/node/wugong/name/view/content"),this.Nshuoming=cc.find("Canvas/main/node/wugong/shuoming"),this.node.on("select-tab",function(t){e.title=t.getUserData(),e.clearItems(),e.selectTitle(e.title)},this),this.node.on("select-item",function(t){e.item=t.getUserData(),e.selectItem(e.item)},this)},start:function(){var e=this,t=new Set;t.add("\u6b66\u529f");var n=new Array;t.forEach(function(t){var i=cc.instantiate(e.Ntitle);i.getChildByName("tabitem").getComponent(cc.Label).string=t,n.push(t),e.Ntab.addChild(i)}),this.title=n[0],this.selectTitle(this.title)},clearItems:function(){this.Ncontent.children.forEach(function(e){e.destroy()})},selectTitle:function(e){var t=this,n=new Array;i.WUGONG.forEach(function(e){var i=cc.instantiate(t.Nname),c=i.getComponent(cc.Label);c.string=e.name,n.push(c.string),t.Ncontent.addChild(i)}),this.item=n[0],this.selectItem(this.item)},selectItem:function(e){var t=this;i.WUGONG.forEach(function(n){if(n.name===e){var i=t.Nshuoming.getChildByName("title"),c=t.Nshuoming.getChildByName("num"),o=t.Nshuoming.getChildByName("body").getChildByName("details"),a=i.getComponent(cc.Label),s=o.getComponent(cc.Label),r=c.getComponent(cc.Label);a.string="\u540d\u79f0:"+n.name,s.string="\u54c1\u8d28:"+n.pingzhi+"\n",s.string+="=======================\n",s.string+=n.describe,r.string="\u6570\u91cf:"+n.num}})},useItme:function(){var e=this;i.BeiBao.forEach(function(t){if(t.name===e.item){cc.log(t.num);var n=!0;if(i.WUGONG.forEach(function(e){t.name===e.name&&(cc.log("\u5df2\u7ecf\u5b66\u4f1a\u8be5\u6b66\u529f"),n=!1),cc.log(e.name)}),n){i.WUGONG.push(t);var c=e.Nshuoming.getChildByName("title"),o=e.Nshuoming.getChildByName("num"),a=e.Nshuoming.getChildByName("body").getChildByName("details"),s=c.getComponent(cc.Label),r=a.getComponent(cc.Label),l=o.getComponent(cc.Label);if(t.num>1)t.num=parseInt(t.num)-1,l.string="\u6570\u91cf:"+t.num;else cc.log("\u6570\u91cf\u662f1\u9500\u6bc1"),i.BeiBao.pop(t),s.string="\u540d\u79f0:",r.string="",l.string="\u6570\u91cf:",e.Ncontent.children.forEach(function(e){var n=e.getComponent(cc.Label);cc.log(n.string+"11"),cc.log(t.name+"12"),n.string==t.name&&(cc.log("destroy"),e.destroy())})}}})}}),cc._RF.pop()},{Player:"Player"}],xm:[function(e,t,n){"use strict";cc._RF.push(t,"2e2fcMt33VO7qR24Xl54tV+","xm");var i=e("Player");cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=cc.find("Canvas/main/node/list/view/content/label_list/xm"),t=cc.find("Canvas/main/node/list/view/content/label_list/ack"),n=cc.find("Canvas/main/node/list/view/content/label_list/def"),i=cc.find("Canvas/main/node/list/view/content/label_list/hp"),c=cc.find("Canvas/main/node/list/view/content/label_list/mp"),o=cc.find("Canvas/main/node/list/view/content/label_list/exp"),a=cc.find("Canvas/main/node/list/view/content/label_list/jj"),s=cc.find("Canvas/main/node/list/view/content/label_list/jn"),r=cc.find("Canvas/main/node/list/view/content/label_list/money");this.name=e.getComponent(cc.Label),this.ack1=t.getComponent(cc.Label),this.def1=n.getComponent(cc.Label),this.hp1=i.getComponent(cc.Label),this.mp1=c.getComponent(cc.Label),this.exp1=o.getComponent(cc.Label),this.jj1=a.getComponent(cc.Label),this.jn1=s.getComponent(cc.Label),this.money1=r.getComponent(cc.Label)},start:function(){},updatePlayerStatus:function(){this.name.string="\u59d3\u540d:"+i.Name,this.ack1.string="\u653b\u51fb:"+i.ack,this.def1.string="\u9632\u5fa1:"+i.def,this.hp1.string="\u8840\u91cf:"+i.HP,this.mp1.string="\u5185\u529b:"+i.MP,this.exp1.string="\u4fee\u4e3a:"+i.EXP+"/"+i.MAXEXP,this.jj1.string="\u5883\u754c:"+i.LEVEL,this.money1.string="\u5143\u5b9d:"+i.money;var e="";i.WUGONG.forEach(function(t){e+=t.name+","}),this.jn1.string="\u6b66\u529f:"+e},update:function(e){this.updatePlayerStatus()}}),cc._RF.pop()},{Player:"Player"}]},{},["Enemy","Global","Person","Player","ShangCheng","WuGong","ZhuangBei","use_v2.1.x_cc.Action","appstart","battle","beibao","btn_ack","btn_bb","btn_df","btn_dw","btn_mj","btn_rw","btn_wg","duiwu_list","end","enemy1","hp","huoban_list","items","jishi","loading","login","main","meizhuang_map","mjmap","player1","renwu","renwu_list","shangcheng_item","titles","wg","wugong","wugong_list","xm"]);